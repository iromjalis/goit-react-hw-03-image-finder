{"version":3,"sources":["components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Container","children","Searchbar","state","query","onChange","e","console","log","target","value","setState","props","onSubmit","handleSubmit","this","className","type","autoComplete","placeholder","PureComponent","defaultProps","ImageGalleryItem","handleClick","nodeName","largeImageURL","dataset","large","handleLargeURLImage","id","webformatURL","tags","onClick","src","alt","ImageGallery","data","images","map","tag","Component","Button","hasError","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handkeBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","App","searchQuery","filter","isLoading","error","showModal","onChangeQuery","fetchImages","currentPage","axios","get","then","response","prevState","catch","finally","componentDidMount","hits","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ec93a571.chunk.js","sourcesContent":["import React from 'react';\n// import PropTypes from 'prop-types';\n// import { Test } from './Container.styles';\n\nconst Container = ({ children }) => <div>{children}</div>;\n\nexport default Container;\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\n// import { Test } from './Searchbar.styles';\n\nclass Searchbar extends PureComponent {\n  state = { query: \"\" };\n\n  onChange = (e) => {\n    console.log(e.target.value);\n    this.setState({ query: e.target.value });\n    this.props.onSubmit(this.state.query);\n  };\n\n  handleSubmit = () => {\n    this.props.onSubmit(this.state.query);\n  };\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            value={query}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n            onChange={this.onChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  // bla: PropTypes.string,\n};\n\nSearchbar.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Searchbar;\n","import React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nclass ImageGalleryItem extends PureComponent {\r\n  handleClick = (e) => {\r\n    if (e.target.nodeName === \"IMG\") {\r\n      this.setState({ largeImageURL: e.target.dataset.large });\r\n      this.props.handleLargeURLImage(e.target.dataset.large);\r\n    }\r\n  };\r\n  render() {\r\n    const { id, webformatURL, largeImageURL, tags } = this.props;\r\n\r\n    return (\r\n      <li className=\"ImageGalleryItem\" key={id} onClick={this.handleClick}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.handleClick}\r\n          data-large={largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  // bla: PropTypes.string,\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  // bla: 'test',\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  handleClick = (e) => {\n    // console.log(e.currentTarget);\n    // console.log(e.target);\n    console.log(\"gallery click\");\n  };\n  handleLargeURLImage = (data) => {\n    this.props.handleLargeURLImage(data);\n  };\n  render() {\n    const { images } = this.props;\n    return (\n      <ul className=\"ImageGallery\">\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            onClick={this.handleClick}\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            tag={tags}\n            handleLargeURLImage={this.handleLargeURLImage}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  // bla: PropTypes.string,\n};\n\nImageGallery.defaultProps = {\n  // bla: 'test',\n};\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\n// import { Test } from './Button.styles';\n\nclass Button extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n    };\n  }\n\n  render() {\n    return <button className=\"ButtonWrapper\">Load more...</button>;\n  }\n}\n\nButton.propTypes = {\n  // bla: PropTypes.string,\n};\n\nButton.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Button;\n","import React, { PureComponent } from \"react\";\n// import PropTypes from 'prop-types';\n// import { Test } from './Modal.styles';\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal\");\nclass Modal extends PureComponent {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handkeBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    const { largeImageURL } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handkeBackdropClick}>\n        <div className=\"Modal\">\n          {this.props.children}\n          <img src={largeImageURL} alt=\"No available\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  // bla: PropTypes.string,\n};\n\nModal.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Modal;\n","/* eslint-disable react/no-unused-state */\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n// import Loader from 'react-loader-spinner';\n\nimport Container from \"./components/Container/Container\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\n//* const API = '21072245-3acfda09a1d5bc65070e6b336';\n//! https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=yellow+flowers&image_type=photo\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"cat\",\n    largeImageURL: \"\",\n    filter: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n    axios\n      .get(\n        `https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=${searchQuery}&image_type=photo&page=${currentPage}`\n      )\n      .then((response) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...this.state.images],\n          currentPage: prevState.currentPage + 1,\n          error: \"\",\n        }));\n      })\n      .catch((error) => console.log(error))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  componentDidMount = () => {\n    const { searchQuery } = this.state;\n\n    axios\n      .get(\n        `https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=${searchQuery}&image_type=photo`\n      )\n      .then(({ data }) => {\n        this.setState({ images: data.hits });\n      })\n      .catch((error) => console.log(error));\n  };\n\n  toggleModal = () =>\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n\n  handleLargeURLImage = (data) => {\n    this.setState({ largeImageURL: data });\n    this.setState({ showModal: true });\n  };\n\n  render() {\n    const { images, showModal, largeImageURL } = this.state;\n    return (\n      <div className=\"App\">\n        <Container>\n          {showModal && (\n            <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n          )}\n          <Searchbar\n            onSubmit={this.onChangeQuery}\n            searchQuery={this.searchQuery}\n          />\n          {images.length > 0 && (\n            <ImageGallery\n              images={images}\n              handleLargeURLImage={this.handleLargeURLImage}\n            />\n          )}\n          {images.length > 0 && <Button />}\n        </Container>\n        {/* <button onClick={this.toggleModal}> show modal</button> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}