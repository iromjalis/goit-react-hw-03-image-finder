{"version":3,"sources":["components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","App.js","index.js"],"names":["Container","children","className","css","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","onChange","type","autoComplete","autoFocus","placeholder","Component","defaultProps","ImageGalleryItem","handleClick","console","log","target","large","image","webformatURL","user","largeImageURL","id","onClick","src","alt","ImageGallery","images","map","shortid","generate","Button","App","currentPage","searchQuery","isLoading","error","onChangeQuery","fetchImages","axios","get","then","data","prevState","hits","catch","finally","prevProps","filter","color","height","width","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.20017098.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Container.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={css.Container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import React, { Component } from \"react\";\n// import PropTypes from \"prop-types\";\n//import { Test } from './Searchbar.styles';\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n  render() {\n    const { onSubmit, onChange, value } = this.props;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.query}\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  // bla: PropTypes.string,\n};\n\nSearchbar.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Searchbar;\n","import React, { Component } from \"react\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {};\r\n  handleClick = (e) => {\r\n    console.log(e.currentTarget);\r\n    console.log(e.target.large);\r\n  };\r\n\r\n  render() {\r\n    const { webformatURL, user, largeImageURL, id } = this.props.image;\r\n    return (\r\n      <li className=\"ImageGalleryItem\" key={id} onClick={this.handleClick}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={user}\r\n          large={largeImageURL}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\n// import PropTypes from \"prop-types\";\nimport shortid from \"shortid\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n//import { Test } from './ImageGallery.styles';\n\nconst ImageGallery = ({ images }) => {\n  return (\n    <div className=\"ImageGalleryWrapper\">\n      <ul className=\"ImageGallery\">\n        {images &&\n          images.map((image) => {\n            return <ImageGalleryItem key={shortid.generate()} image={image} />;\n          })}\n      </ul>\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  // bla: PropTypes.string,\n};\n\nImageGallery.defaultProps = {\n  // bla: 'test',\n};\n\nexport default ImageGallery;\n","import React from \"react\";\n// import PropTypes from \"prop-types\";\n//import { Test } from './Button.styles';\n\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: \"smooth\",\n// });\n\nconst Button = ({ onClick }) => (\n  <div className=\"ButtonWrapper\">\n    <button type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  // bla: PropTypes.string,\n};\n\nButton.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Button;\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Loader from \"react-loader-spinner\";\n\nimport Container from \"./components/Container/Container\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\n//* const API = '21072245-3acfda09a1d5bc65070e6b336';\n//! https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=yellow+flowers&image_type=photo\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n    axios\n      .get(\n        `https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=${searchQuery}&image_type=photo&page=${currentPage}`\n      )\n      .then(({ data }) => {\n        this.setState((prevState) => ({\n          images: [...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => console.log(error))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  componentDidMount() {\n    const { searchQuery } = this.state;\n\n    axios\n      .get(\n        `https://pixabay.com/api/?key=21072245-3acfda09a1d5bc65070e6b336&q=${searchQuery}&image_type=photo`\n      )\n      .then(({ data }) => {\n        this.setState({ images: data.hits });\n      })\n      .catch((error) => console.log(error));\n  }\n  render() {\n    const { images, filter, isLoading, error } = this.state;\n    return (\n      <div className=\"App\">\n        <Container>\n          {error && <h1>404 - Page not found!!!</h1>}\n          <Searchbar onSubmit={this.onChangeQuery} value={filter} />\n          {isLoading && (\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n          )}\n          {images && <ImageGallery images={images} />}\n\n          {images.length > 0 && !isLoading && (\n            <Button onClick={this.fetchImages} />\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}